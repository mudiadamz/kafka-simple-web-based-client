<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kafka Client</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>

<div class="overlay"></div>
<nav class="navbar navbar-expand-lg p-0">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Kafka Web Client</a>
        <div class="navbar-nav ms-auto">
            <div class="filter-container input-group input-group-sm mt-2">
                <input type="text" id="regexFilter" class="form-control" placeholder="Enter regex to filter rows">
                <button type="button" class="btn btn-primary" id="applyRegexFilter">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            <button type="button" class="btn ms-2" title="Filter topics" id="filterTopic"
                    data-bs-toggle="modal"
                    data-bs-target="#filterTopicModal">
                <i class="fas fa-filter text-white"></i>
            </button>
            <button type="button" class="btn ms-2" title="Pause connection" id="pauseWebsocket">
                <i
                        class="fas fa-pause-circle text-white"></i>
            </button>
            <button class="btn clear-item ms-2" title="Clear messages">
                <i class="fas fa-trash text-white"></i>
            </button>
        </div>
    </div>
</nav>

<div class="sidebar2" style="display:none">
    <button class="btn btn-close2">
        <i class="fas fa-angle-left"></i>
    </button>
    <div class="header mb-3">
        <strong>Connection</strong>
        <button class="btn btn-sm btn-primary float-end"
                data-bs-toggle="modal"
                data-bs-target="#connectionSettingModal"
        ><i class="fa fa-plus-circle"></i></button>
    </div>
    <ul id="connectionList" class="list-group">

    </ul>
</div>

<main class="main">
    <div class="side-panel bg-dark">
        <ul>
            <li>
                <button class="btn btn-connection" title="Connection"><i class="fas fa-cog text-white"></i></button>
            </li>
            <li>
                <button
                        title="Send message"
                        type="button"
                        class="btn"
                        data-bs-toggle="modal"
                        data-bs-target="#messageModal">
                    <i class="fas fa-paper-plane text-white"></i>
                </button>
            </li>
        </ul>
    </div>
    <div class="main-panel">
        <div class="div-table">
            <div class="response-header">
                <div class="response-column">Topic</div>
                <div class="response-column">Timestamp</div>
                <div class="response-column">Value</div>
            </div>
            <div id="messages" class="responses-container"><span class="init">Initiating...</span></div>
        </div>
    </div>
</main>

<!-- Modal -->
<div class="modal fade" id="messageModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title fs-5" id="messageModalLabel">Send Kafka Message</h2>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="kafka-form">
                    <div class="form-group">
                        <label for="topic">Topic:</label>
                        <select id="topic" name="topic" class="form-control" required>
                            <option value="" disabled selected>Select topic</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="message">Message:</label>
                        <textarea id="message" name="message" class="form-control" rows="5" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Send</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="filterTopicModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title fs-5" id="filterTopicModalLabel">Filter Topics</h2>
                <input type="text" class=" ms-auto me-auto" placeholder="Search" style="padding: 6px; width: 15rem;"
                       id="filterListTopic">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="filterTopicModal-form">
                    <div class="form-group topic-list"></div>
                    <div class="form-group buttons">
                        <button type="button" class="btn btn-primary" id="applyFilter">Apply</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="connectionSettingModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title fs-5" id="connectionSettingModalLabel">Connection setting</h2>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="connectionSettingModal-form">
                    <div class="form-group mb-3">
                        <label for="bsServer">Bootstrap servers <span class="text-danger">*</span></label>
                        <input name="server" id="bsServer" class="form-control" required>
                    </div>
                    <div class="form-group mb-3">
                        <label for="bsLabel">Label/Name</label>
                        <input name="label" id="bsLabel" class="form-control">
                    </div>
                    <div class="form-group buttons">
                        <div class="float-end">
                            <!--                            <button type="button" class="btn btn-secondary">Test connection</button>-->
                            <button type="submit" class="btn btn-primary">Save</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.socket.io/3.0.3/socket.io.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@3/dist/fp.min.js"></script>

<script type="text/javascript">toastr.options = {
    "closeButton": true,
    "debug": false,
    "newestOnTop": false,
    "progressBar": true,
    "positionClass": "toast-bottom-right",
    "preventDuplicates": false,
    "onclick": null,
    "showDuration": "300",
    "hideDuration": "1000",
    "timeOut": "2000",
    "extendedTimeOut": "1000",
    "showEasing": "swing",
    "hideEasing": "linear",
    "showMethod": "fadeIn",
    "hideMethod": "fadeOut"
}</script>
<script type="text/javascript" src="script.js"></script>
</body>
</html>
